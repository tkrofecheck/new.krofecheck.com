myApp.Tools=function(){return{injectScript:function(a){$script=$("<script></script>"),$script.attr(a.attr),$script.html(a.html),$("head").append($script)},addCSSRule:function(a,b,c,d){"insertRule"in a?a.insertRule(b+"{"+c+"}",d):"addRule"in a&&a.addRule(b,c,d)},getData:function(a){var b="data/"+a.dataFile;return $.ajax({url:b,method:"GET",cache:!1,success:function(b){"dataKey"in a?a.data=$.extend(!0,a.data,b[a.dataKey]):a.data=$.extend(!0,b,a.data),a.dataReady.value=!0},error:function(a,b,c){500==a.status,void 0}}),a},setupListener:function(a,b,c){return a[b]=function(){function a(a){for(var b=0;b<c.length;b+=1)c[b](a)}var b,c=[];return{get value(){return b},set value(c){a(c),b=c},listen:function(a){"function"==typeof a&&c.push(a)}}}(),a[b].listen(c),a[b]},getSections:function(){var a=setInterval(function(){"undefined"!=typeof myApp.updated&&myApp.updated>0&&(clearInterval(a),myApp.Portfolio.init())},100);myApp.Nav.init(),myApp.About.init(),myApp.Resume.init()},customModal:{HandlebarsTemplate:{attr:{id:"popup-modal-template",type:"text/x-handlebars-template"},html:"".concat('<div class="popup">',"<div>{{{this.title}}}</div>","<div>{{{this.message}}}</div>",'<button data-choice="yes">{{{this.text.yes}}}</button><button data-choice="no">{{{this.text.no}}}</button>',"</div>")},init:function(a){var b=this;return!$(".modal").length&&(b.config=a,void b.render())},injectScript:function(){var a=this;myApp.Tools.injectScript(a.HandlebarsTemplate)},bindEvents:function(){var a=this;$(".modal").click(function(b){return b.stopPropagation(),a.remove(),!0}),$(".popup").on("click tap",function(a){return a.stopPropagation(),!1}),$(".popup").on("click tap","button",function(b){b.preventDefault(),b.stopPropagation();var c=$(b.currentTarget),d=c.data("choice");return a.config.choice[d](),a.remove(),!0})},render:function(){var a=this;require(["handlebars"],function(b){var c=$("#popup-modal-template"),d=$('<div class="modal"></div>'),e=c.html(),f=b.compile(e),g=a.config||{},h=f(g);d.html(h),$("body").append(d),a.bindEvents()})},remove:function(){var a=$(".modal");a.children().unbind(),a.unbind(),a.remove()}}}}();